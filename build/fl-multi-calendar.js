"use strict";function processCondition(e,t){if(!e){var a="";return a+=t}return null}function assert(){var e=processCondition.apply(void 0,arguments);if("string"==typeof e)throw new Error(e)}function debounce(e,t,a){var n=this,o=void 0;return function(){for(var r=arguments.length,s=Array(r),i=0;r>i;i++)s[i]=arguments[i];var l=n,d=function(){o=null,a||e.apply(l,s)},c=a&&!o;clearTimeout(o),o=setTimeout(d,t),c&&e.apply(l,s)}}function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(e){hookCallback=e}function isArray(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function isDate(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function map(e,t){var a,n=[];for(a=0;a<e.length;++a)n.push(t(e[a],a));return n}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var a in t)hasOwnProp(t,a)&&(e[a]=t[a]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function createUTC(e,t,a,n){return createLocalOrUTC(e,t,a,n,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(e){return null==e._pf&&(e._pf=defaultParsingFlags()),e._pf}function _isValid(e){if(null==e._isValid){var t=getParsingFlags(e),a=some.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function createInvalid(e){var t=createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}function isUndefined(e){return void 0===e}function copyConfig(e,t){var a,n,o;if(isUndefined(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),isUndefined(t._i)||(e._i=t._i),isUndefined(t._f)||(e._f=t._f),isUndefined(t._l)||(e._l=t._l),isUndefined(t._strict)||(e._strict=t._strict),isUndefined(t._tzm)||(e._tzm=t._tzm),isUndefined(t._isUTC)||(e._isUTC=t._isUTC),isUndefined(t._offset)||(e._offset=t._offset),isUndefined(t._pf)||(e._pf=getParsingFlags(t)),isUndefined(t._locale)||(e._locale=t._locale),momentProperties.length>0)for(a in momentProperties)n=momentProperties[a],o=t[n],isUndefined(o)||(e[n]=o);return e}function Moment(e){copyConfig(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(e){return e instanceof Moment||null!=e&&null!=e._isAMomentObject}function absFloor(e){return 0>e?Math.ceil(e):Math.floor(e)}function toInt(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=absFloor(t)),a}function compareArrays(e,t,a){var n,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(n=0;o>n;n++)(a&&e[n]!==t[n]||!a&&toInt(e[n])!==toInt(t[n]))&&s++;return s+r}function warn(e){hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function deprecate(e,t){var a=!0;return extend(function(){return null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,e),a&&(warn(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),a=!1),t.apply(this,arguments)},t)}function deprecateSimple(e,t){null!=hooks.deprecationHandler&&hooks.deprecationHandler(e,t),deprecations[e]||(warn(t),deprecations[e]=!0)}function isFunction(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function set(e){var t,a;for(a in e)t=e[a],isFunction(t)?this[a]=t:this["_"+a]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var a,n=extend({},e);for(a in t)hasOwnProp(t,a)&&(isObject(e[a])&&isObject(t[a])?(n[a]={},extend(n[a],e[a]),extend(n[a],t[a])):null!=t[a]?n[a]=t[a]:delete n[a]);return n}function Locale(e){null!=e&&this.set(e)}function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){for(var t,a,n,o,r=0;r<e.length;){for(o=normalizeLocale(e[r]).split("-"),t=o.length,a=normalizeLocale(e[r+1]),a=a?a.split("-"):null;t>0;){if(n=loadLocale(o.slice(0,t).join("-")))return n;if(a&&a.length>=t&&compareArrays(o,a,!0)>=t-1)break;t--}r++}return null}function loadLocale(e){var t=null;if(!locales[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=globalLocale._abbr,require("./locale/"+e),getSetGlobalLocale(t)}catch(a){}return locales[e]}function getSetGlobalLocale(e,t){var a;return e&&(a=isUndefined(t)?getLocale(e):defineLocale(e,t),a&&(globalLocale=a)),globalLocale._abbr}function defineLocale(e,t){return null!==t?(t.abbr=e,null!=locales[e]?(deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=mergeConfigs(locales[e]._config,t)):null!=t.parentLocale&&(null!=locales[t.parentLocale]?t=mergeConfigs(locales[t.parentLocale]._config,t):deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet")),locales[e]=new Locale(t),getSetGlobalLocale(e),locales[e]):(delete locales[e],null)}function updateLocale(e,t){if(null!=t){var a;null!=locales[e]&&(t=mergeConfigs(locales[e]._config,t)),a=new Locale(t),a.parentLocale=locales[e],locales[e]=a,getSetGlobalLocale(e)}else null!=locales[e]&&(null!=locales[e].parentLocale?locales[e]=locales[e].parentLocale:null!=locales[e]&&delete locales[e]);return locales[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return globalLocale;if(!isArray(e)){if(t=loadLocale(e))return t;e=[e]}return chooseLocale(e)}function listLocales(){return keys(locales)}function addUnitAlias(e,t){var a=e.toLowerCase();aliases[a]=aliases[a+"s"]=aliases[t]=e}function normalizeUnits(e){return"string"==typeof e?aliases[e]||aliases[e.toLowerCase()]:void 0}function normalizeObjectUnits(e){var t,a,n={};for(a in e)hasOwnProp(e,a)&&(t=normalizeUnits(a),t&&(n[t]=e[a]));return n}function makeGetSet(e,t){return function(a){return null!=a?(set$1(this,e,a),hooks.updateOffset(this,t),this):get(this,e)}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,a){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](a)}function getSet(e,t){var a;if("object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e)))for(a in e)this.set(a,e[a]);else if(e=normalizeUnits(e),isFunction(this[e]))return this[e](t);return this}function zeroFill(e,t,a){var n=""+Math.abs(e),o=t-n.length,r=e>=0;return(r?a?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function addFormatToken(e,t,a,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(formatTokenFunctions[e]=o),t&&(formatTokenFunctions[t[0]]=function(){return zeroFill(o.apply(this,arguments),t[1],t[2])}),a&&(formatTokenFunctions[a]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function removeFormattingTokens(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function makeFormatFunction(e){var t,a,n=e.match(formattingTokens);for(t=0,a=n.length;a>t;t++)formatTokenFunctions[n[t]]?n[t]=formatTokenFunctions[n[t]]:n[t]=removeFormattingTokens(n[t]);return function(t){var o,r="";for(o=0;a>o;o++)r+=n[o]instanceof Function?n[o].call(t,e):n[o];return r}}function formatMoment(e,t){return e.isValid()?(t=expandFormat(t,e.localeData()),formatFunctions[t]=formatFunctions[t]||makeFormatFunction(t),formatFunctions[t](e)):e.localeData().invalidDate()}function expandFormat(e,t){function a(e){return t.longDateFormat(e)||e}var n=5;for(localFormattingTokens.lastIndex=0;n>=0&&localFormattingTokens.test(e);)e=e.replace(localFormattingTokens,a),localFormattingTokens.lastIndex=0,n-=1;return e}function addRegexToken(e,t,a){regexes[e]=isFunction(t)?t:function(e,n){return e&&a?a:t}}function getParseRegexForToken(e,t){return hasOwnProp(regexes,e)?regexes[e](t._strict,t._locale):new RegExp(unescapeFormat(e))}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,a,n,o){return t||a||n||o}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(e,t){var a,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,a){a[t]=toInt(e)}),a=0;a<e.length;a++)tokens[e[a]]=n}function addWeekParseToken(e,t){addParseToken(e,function(e,a,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function addTimeToArrayFromToken(e,t,a){null!=t&&hasOwnProp(tokens,e)&&tokens[e](t,a._a,a,e)}function daysInMonth(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function localeMonths(e,t){return isArray(this._months)?this._months[e.month()]:this._months[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]}function localeMonthsShort(e,t){return isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(t)?"format":"standalone"][e.month()]}function handleStrictParse(e,t,a){var n,o,r,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)r=createUTC([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return a?"MMM"===t?(o=indexOf.call(this._shortMonthsParse,s),-1!==o?o:null):(o=indexOf.call(this._longMonthsParse,s),-1!==o?o:null):"MMM"===t?(o=indexOf.call(this._shortMonthsParse,s),-1!==o?o:(o=indexOf.call(this._longMonthsParse,s),-1!==o?o:null)):(o=indexOf.call(this._longMonthsParse,s),-1!==o?o:(o=indexOf.call(this._shortMonthsParse,s),-1!==o?o:null))}function localeMonthsParse(e,t,a){var n,o,r;if(this._monthsParseExact)return handleStrictParse.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=createUTC([2e3,n]),a&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),a||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(a&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!a&&this._monthsParse[n].test(e))return n}}function setMonth(e,t){var a;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=toInt(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return a=Math.min(e.date(),daysInMonth(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a),e}function getSetMonth(e){return null!=e?(setMonth(this,e),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function monthsRegex(e){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function computeMonthsParse(){function e(e,t){return t.length-e.length}var t,a,n=[],o=[],r=[];for(t=0;12>t;t++)a=createUTC([2e3,t]),n.push(this.monthsShort(a,"")),o.push(this.months(a,"")),r.push(this.months(a,"")),r.push(this.monthsShort(a,""));for(n.sort(e),o.sort(e),r.sort(e),t=0;12>t;t++)n[t]=regexEscape(n[t]),o[t]=regexEscape(o[t]),r[t]=regexEscape(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function checkOverflow(e){var t,a=e._a;return a&&-2===getParsingFlags(e).overflow&&(t=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(e)._overflowDayOfYear&&(YEAR>t||t>DATE)&&(t=DATE),getParsingFlags(e)._overflowWeeks&&-1===t&&(t=WEEK),getParsingFlags(e)._overflowWeekday&&-1===t&&(t=WEEKDAY),getParsingFlags(e).overflow=t),e}function configFromISO(e){var t,a,n,o,r,s,i=e._i,l=extendedIsoRegex.exec(i)||basicIsoRegex.exec(i);if(l){for(getParsingFlags(e).iso=!0,t=0,a=isoDates.length;a>t;t++)if(isoDates[t][1].exec(l[1])){o=isoDates[t][0],n=isoDates[t][2]!==!1;break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,a=isoTimes.length;a>t;t++)if(isoTimes[t][1].exec(l[3])){r=(l[2]||" ")+isoTimes[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!tzRegex.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=o+(r||"")+(s||""),configFromStringAndFormat(e)}else e._isValid=!1}function configFromString(e){var t=aspNetJsonRegex.exec(e._i);return null!==t?void(e._d=new Date(+t[1])):(configFromISO(e),void(e._isValid===!1&&(delete e._isValid,hooks.createFromInputFallback(e))))}function createDate(e,t,a,n,o,r,s){var i=new Date(e,t,a,n,o,r,s);return 100>e&&e>=0&&isFinite(i.getFullYear())&&i.setFullYear(e),i}function createUTCDate(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function firstWeekOffset(e,t,a){var n=7+t-a,o=(7+createUTCDate(e,0,n).getUTCDay()-t)%7;return-o+n-1}function dayOfYearFromWeeks(e,t,a,n,o){var r,s,i=(7+a-n)%7,l=firstWeekOffset(e,n,o),d=1+7*(t-1)+i+l;return 0>=d?(r=e-1,s=daysInYear(r)+d):d>daysInYear(e)?(r=e+1,s=d-daysInYear(e)):(r=e,s=d),{year:r,dayOfYear:s}}function weekOfYear(e,t,a){var n,o,r=firstWeekOffset(e.year(),t,a),s=Math.floor((e.dayOfYear()-r-1)/7)+1;return 1>s?(o=e.year()-1,n=s+weeksInYear(o,t,a)):s>weeksInYear(e.year(),t,a)?(n=s-weeksInYear(e.year(),t,a),o=e.year()+1):(o=e.year(),n=s),{week:n,year:o}}function weeksInYear(e,t,a){var n=firstWeekOffset(e,t,a),o=firstWeekOffset(e+1,t,a);return(daysInYear(e)-n+o)/7}function defaults(e,t,a){return null!=e?e:null!=t?t:a}function currentDateArray(e){var t=new Date(hooks.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,a,n,o,r=[];if(!e._d){for(n=currentDateArray(e),e._w&&null==e._a[DATE]&&null==e._a[MONTH]&&dayOfYearFromWeekInfo(e),e._dayOfYear&&(o=defaults(e._a[YEAR],n[YEAR]),e._dayOfYear>daysInYear(o)&&(getParsingFlags(e)._overflowDayOfYear=!0),a=createUTCDate(o,0,e._dayOfYear),e._a[MONTH]=a.getUTCMonth(),e._a[DATE]=a.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=n[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[HOUR]&&0===e._a[MINUTE]&&0===e._a[SECOND]&&0===e._a[MILLISECOND]&&(e._nextDay=!0,e._a[HOUR]=0),e._d=(e._useUTC?createUTCDate:createDate).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[HOUR]=24)}}function dayOfYearFromWeekInfo(e){var t,a,n,o,r,s,i,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,s=4,a=defaults(t.GG,e._a[YEAR],weekOfYear(createLocal(),1,4).year),n=defaults(t.W,1),o=defaults(t.E,1),(1>o||o>7)&&(l=!0)):(r=e._locale._week.dow,s=e._locale._week.doy,a=defaults(t.gg,e._a[YEAR],weekOfYear(createLocal(),r,s).year),n=defaults(t.w,1),null!=t.d?(o=t.d,(0>o||o>6)&&(l=!0)):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(l=!0)):o=r),1>n||n>weeksInYear(a,r,s)?getParsingFlags(e)._overflowWeeks=!0:null!=l?getParsingFlags(e)._overflowWeekday=!0:(i=dayOfYearFromWeeks(a,n,o,r,s),e._a[YEAR]=i.year,e._dayOfYear=i.dayOfYear)}function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601)return void configFromISO(e);e._a=[],getParsingFlags(e).empty=!0;var t,a,n,o,r,s=""+e._i,i=s.length,l=0;for(n=expandFormat(e._f,e._locale).match(formattingTokens)||[],t=0;t<n.length;t++)o=n[t],a=(s.match(getParseRegexForToken(o,e))||[])[0],a&&(r=s.substr(0,s.indexOf(a)),r.length>0&&getParsingFlags(e).unusedInput.push(r),s=s.slice(s.indexOf(a)+a.length),l+=a.length),formatTokenFunctions[o]?(a?getParsingFlags(e).empty=!1:getParsingFlags(e).unusedTokens.push(o),addTimeToArrayFromToken(o,a,e)):e._strict&&!a&&getParsingFlags(e).unusedTokens.push(o);getParsingFlags(e).charsLeftOver=i-l,s.length>0&&getParsingFlags(e).unusedInput.push(s),getParsingFlags(e).bigHour===!0&&e._a[HOUR]<=12&&e._a[HOUR]>0&&(getParsingFlags(e).bigHour=void 0),getParsingFlags(e).parsedDateParts=e._a.slice(0),getParsingFlags(e).meridiem=e._meridiem,e._a[HOUR]=meridiemFixWrap(e._locale,e._a[HOUR],e._meridiem),configFromArray(e),checkOverflow(e)}function meridiemFixWrap(e,t,a){var n;return null==a?t:null!=e.meridiemHour?e.meridiemHour(t,a):null!=e.isPM?(n=e.isPM(a),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,a,n,o,r;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],configFromStringAndFormat(t),_isValid(t)&&(r+=getParsingFlags(t).charsLeftOver,r+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=r,(null==n||n>r)&&(n=r,a=t));extend(e,a||t)}function configFromObject(e){if(!e._d){var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),configFromArray(e)}}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function prepareConfig(e){var t=e._i,a=e._f;return e._locale=e._locale||getLocale(e._l),null===t||void 0===a&&""===t?createInvalid({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),isMoment(t)?new Moment(checkOverflow(t)):(isArray(a)?configFromStringAndArray(e):a?configFromStringAndFormat(e):isDate(t)?e._d=t:configFromInput(e),_isValid(e)||(e._d=null),e))}function configFromInput(e){var t=e._i;void 0===t?e._d=new Date(hooks.now()):isDate(t)?e._d=new Date(t.valueOf()):"string"==typeof t?configFromString(e):isArray(t)?(e._a=map(t.slice(0),function(e){return parseInt(e,10)}),configFromArray(e)):"object"===("undefined"==typeof t?"undefined":babelHelpers["typeof"](t))?configFromObject(e):"number"==typeof t?e._d=new Date(t):hooks.createFromInputFallback(e)}function createLocalOrUTC(e,t,a,n,o){var r={};return"boolean"==typeof a&&(n=a,a=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=a,r._i=e,r._f=t,r._strict=n,createFromConfig(r)}function createLocal(e,t,a,n){return createLocalOrUTC(e,t,a,n,!1)}function pickBy(e,t){var a,n;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return createLocal();for(a=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](a)||(a=t[n]);return a}function min(){var e=[].slice.call(arguments,0);return pickBy("isBefore",e)}function max(){var e=[].slice.call(arguments,0);return pickBy("isAfter",e)}function Duration(e){var t=normalizeObjectUnits(e),a=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,i=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*d+6e4*l+1e3*i*60*60,this._days=+s+7*r,this._months=+o+3*n+12*a,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(e){return e instanceof Duration}function offset(e,t){addFormatToken(e,0,0,function(){var e=this.utcOffset(),a="+";return 0>e&&(e=-e,a="-"),a+zeroFill(~~(e/60),2)+t+zeroFill(~~e%60,2)})}function offsetFromString(e,t){var a=(t||"").match(e)||[],n=a[a.length-1]||[],o=(n+"").match(chunkOffset)||["-",0,0],r=+(60*o[1])+toInt(o[2]);return"+"===o[0]?r:-r}function cloneWithOffset(e,t){var a,n;return t._isUTC?(a=t.clone(),n=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+n),hooks.updateOffset(a,!1),a):createLocal(e).local()}function getDateOffset(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function getSetOffset(e,t){var a,n=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=offsetFromString(matchShortOffset,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(a=getDateOffset(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?addSubtract(this,createDuration(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:getDateOffset(this):null!=e?this:NaN}function getSetZone(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(matchOffset,this._i)),this}function hasAlignedHourOffset(e){return this.isValid()?(e=e?createLocal(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var e={};if(copyConfig(e,this),e=prepareConfig(e),e._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&0===this._offset:!1}function createDuration(e,t){var a,n,o,r=e,s=null;return isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(s=aspNetRegex.exec(e))?(a="-"===s[1]?-1:1,r={y:0,d:toInt(s[DATE])*a,h:toInt(s[HOUR])*a,m:toInt(s[MINUTE])*a,s:toInt(s[SECOND])*a,ms:toInt(s[MILLISECOND])*a}):(s=isoRegex.exec(e))?(a="-"===s[1]?-1:1,r={y:parseIso(s[2],a),M:parseIso(s[3],a),w:parseIso(s[4],a),d:parseIso(s[5],a),h:parseIso(s[6],a),m:parseIso(s[7],a),s:parseIso(s[8],a)}):null==r?r={}:"object"===("undefined"==typeof r?"undefined":babelHelpers["typeof"](r))&&("from"in r||"to"in r)&&(o=momentsDifference(createLocal(r.from),createLocal(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Duration(r),isDuration(e)&&hasOwnProp(e,"_locale")&&(n._locale=e._locale),n}function parseIso(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function positiveMomentsDifference(e,t){var a={milliseconds:0,months:0};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function momentsDifference(e,t){var a;return e.isValid()&&t.isValid()?(t=cloneWithOffset(t,e),e.isBefore(t)?a=positiveMomentsDifference(e,t):(a=positiveMomentsDifference(t,e),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function absRound(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function createAdder(e,t){return function(a,n){var o,r;return null===n||isNaN(+n)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=a,a=n,n=r),a="string"==typeof a?+a:a,o=createDuration(a,n),addSubtract(this,o,e),this}}function addSubtract(e,t,a,n){var o=t._milliseconds,r=absRound(t._days),s=absRound(t._months);e.isValid()&&(n=null==n?!0:n,o&&e._d.setTime(e._d.valueOf()+o*a),r&&set$1(e,"Date",get(e,"Date")+r*a),s&&setMonth(e,get(e,"Month")+s*a),n&&hooks.updateOffset(e,r||s))}function calendar(e,t){var a=e||createLocal(),n=cloneWithOffset(a,this).startOf("day"),o=this.diff(n,"days",!0),r=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse",s=t&&(isFunction(t[r])?t[r]():t[r]);return this.format(s||this.localeData().calendar(r,this,createLocal(a)))}function clone(){return new Moment(this)}function isAfter(e,t){var a=isMoment(e)?e:createLocal(e);return this.isValid()&&a.isValid()?(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf()):!1}function isBefore(e,t){var a=isMoment(e)?e:createLocal(e);return this.isValid()&&a.isValid()?(t=normalizeUnits(isUndefined(t)?"millisecond":t),"millisecond"===t?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf()):!1}function isBetween(e,t,a,n){return n=n||"()",("("===n[0]?this.isAfter(e,a):!this.isBefore(e,a))&&(")"===n[1]?this.isBefore(t,a):!this.isAfter(t,a))}function isSame(e,t){var a,n=isMoment(e)?e:createLocal(e);return this.isValid()&&n.isValid()?(t=normalizeUnits(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(a=n.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,a){var n,o,r,s;return this.isValid()?(n=cloneWithOffset(e,this),n.isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),t=normalizeUnits(t),"year"===t||"month"===t||"quarter"===t?(s=monthDiff(this,n),"quarter"===t?s/=3:"year"===t&&(s/=12)):(r=this-n,s="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),a?s:absFloor(s)):NaN):NaN}function monthDiff(e,t){var a,n,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return 0>t-r?(a=e.clone().add(o-1,"months"),n=(t-r)/(r-a)):(a=e.clone().add(o+1,"months"),n=(t-r)/(a-r)),-(o+n)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(e){e||(e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){return this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())?createDuration({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;return void 0===e?this._locale._abbr:(t=getLocale(e),null!=t&&(this._locale=t),this)}function localeData(){return this._locale}function startOf(e){switch(e=normalizeUnits(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function endOf(e){return e=normalizeUnits(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return this._offset?new Date(this.valueOf()):this._d}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid(){return _isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,a,n,o){var r;return null==e?weekOfYear(this,n,o).year:(r=weeksInYear(e,n,o),t>r&&(t=r),setWeekAll.call(this,e,t,a,n,o))}function setWeekAll(e,t,a,n,o){var r=dayOfYearFromWeeks(e,t,a,n,o),s=createUTCDate(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function getSetQuarter(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function parseWeekday(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function localeWeekdays(e,t){return isArray(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function localeWeekdaysShort(e){return this._weekdaysShort[e.day()]}function localeWeekdaysMin(e){return this._weekdaysMin[e.day()]}function handleStrictParse$1(e,t,a){var n,o,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)r=createUTC([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return a?"dddd"===t?(o=indexOf.call(this._weekdaysParse,s),-1!==o?o:null):"ddd"===t?(o=indexOf.call(this._shortWeekdaysParse,s),-1!==o?o:null):(o=indexOf.call(this._minWeekdaysParse,s),-1!==o?o:null):"dddd"===t?(o=indexOf.call(this._weekdaysParse,s),-1!==o?o:(o=indexOf.call(this._shortWeekdaysParse,s),-1!==o?o:(o=indexOf.call(this._minWeekdaysParse,s),-1!==o?o:null))):"ddd"===t?(o=indexOf.call(this._shortWeekdaysParse,s),-1!==o?o:(o=indexOf.call(this._weekdaysParse,s),-1!==o?o:(o=indexOf.call(this._minWeekdaysParse,s),-1!==o?o:null))):(o=indexOf.call(this._minWeekdaysParse,s),-1!==o?o:(o=indexOf.call(this._weekdaysParse,s),-1!==o?o:(o=indexOf.call(this._shortWeekdaysParse,s),-1!==o?o:null)))}function localeWeekdaysParse(e,t,a){var n,o,r;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],
this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(o=createUTC([2e3,1]).day(n),a&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(a&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(a&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!a&&this._weekdaysParse[n].test(e))return n}}function getSetDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=parseWeekday(e,this.localeData()),this.add(e-t,"d")):t}function getSetLocaleDayOfWeek(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function weekdaysRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function weekdaysShortRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function weekdaysMinRegex(e){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function computeWeekdaysParse(){function e(e,t){return t.length-e.length}var t,a,n,o,r,s=[],i=[],l=[],d=[];for(t=0;7>t;t++)a=createUTC([2e3,1]).day(t),n=this.weekdaysMin(a,""),o=this.weekdaysShort(a,""),r=this.weekdays(a,""),s.push(n),i.push(o),l.push(r),d.push(n),d.push(o),d.push(r);for(s.sort(e),i.sort(e),l.sort(e),d.sort(e),t=0;7>t;t++)i[t]=regexEscape(i[t]),l[t]=regexEscape(l[t]),d[t]=regexEscape(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return"p"===(e+"").toLowerCase().charAt(0)}function localeMeridiem(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"}function parseMs(e,t){t[MILLISECOND]=toInt(1e3*("0."+e))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function calendar$1(e,t,a){var n=this._calendar[e];return isFunction(n)?n.call(t,a):n}function longDateFormat(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function invalidDate(){return this._invalidDate}function ordinal(e){return this._ordinal.replace("%d",e)}function preParsePostFormat(e){return e}function relativeTime(e,t,a,n){var o=this._relativeTime[a];return isFunction(o)?o(e,t,a,n):o.replace(/%d/i,e)}function pastFuture(e,t){var a=this._relativeTime[e>0?"future":"past"];return isFunction(a)?a(t):a.replace(/%s/i,t)}function get$1(e,t,a,n){var o=getLocale(),r=createUTC().set(n,t);return o[a](r,e)}function listMonthsImpl(e,t,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return get$1(e,t,a,"month");var n,o=[];for(n=0;12>n;n++)o[n]=get$1(e,n,a,"month");return o}function listWeekdaysImpl(e,t,a,n){"boolean"==typeof e?("number"==typeof t&&(a=t,t=void 0),t=t||""):(t=e,a=t,e=!1,"number"==typeof t&&(a=t,t=void 0),t=t||"");var o=getLocale(),r=e?o._week.dow:0;if(null!=a)return get$1(t,(a+r)%7,n,"day");var s,i=[];for(s=0;7>s;s++)i[s]=get$1(t,(s+r)%7,n,"day");return i}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,a){return listWeekdaysImpl(e,t,a,"weekdays")}function listWeekdaysShort(e,t,a){return listWeekdaysImpl(e,t,a,"weekdaysShort")}function listWeekdaysMin(e,t,a){return listWeekdaysImpl(e,t,a,"weekdaysMin")}function abs(){var e=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),e.milliseconds=mathAbs(e.milliseconds),e.seconds=mathAbs(e.seconds),e.minutes=mathAbs(e.minutes),e.hours=mathAbs(e.hours),e.months=mathAbs(e.months),e.years=mathAbs(e.years),this}function addSubtract$1(e,t,a,n){var o=createDuration(t,a);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){return 0>e?Math.floor(e):Math.ceil(e)}function bubble(){var e,t,a,n,o,r=this._milliseconds,s=this._days,i=this._months,l=this._data;return r>=0&&s>=0&&i>=0||0>=r&&0>=s&&0>=i||(r+=864e5*absCeil(monthsToDays(i)+s),s=0,i=0),l.milliseconds=r%1e3,e=absFloor(r/1e3),l.seconds=e%60,t=absFloor(e/60),l.minutes=t%60,a=absFloor(t/60),l.hours=a%24,s+=absFloor(a/24),o=absFloor(daysToMonths(s)),i+=o,s-=absCeil(monthsToDays(o)),n=absFloor(i/12),i%=12,l.days=s,l.months=i,l.years=n,this}function daysToMonths(e){return 4800*e/146097}function monthsToDays(e){return 146097*e/4800}function as(e){var t,a,n=this._milliseconds;if(e=normalizeUnits(e),"month"===e||"year"===e)return t=this._days+n/864e5,a=this._months+daysToMonths(t),"month"===e?a:a/12;switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(e){return function(){return this.as(e)}}function get$2(e){return e=normalizeUnits(e),this[e+"s"]()}function makeGetter(e){return function(){return this._data[e]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(e,t,a,n,o){return o.relativeTime(t||1,!!a,e,n)}function relativeTime$1(e,t,a){var n=createDuration(e).abs(),o=round(n.as("s")),r=round(n.as("m")),s=round(n.as("h")),i=round(n.as("d")),l=round(n.as("M")),d=round(n.as("y")),c=o<thresholds.s&&["s",o]||1>=r&&["m"]||r<thresholds.m&&["mm",r]||1>=s&&["h"]||s<thresholds.h&&["hh",s]||1>=i&&["d"]||i<thresholds.d&&["dd",i]||1>=l&&["M"]||l<thresholds.M&&["MM",l]||1>=d&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=a,substituteTimeAgo.apply(null,c)}function getSetRelativeTimeThreshold(e,t){return void 0===thresholds[e]?!1:void 0===t?thresholds[e]:(thresholds[e]=t,!0)}function humanize(e){var t=this.localeData(),a=relativeTime$1(this,!e,t);return e&&(a=t.pastFuture(+this,a)),t.postformat(a)}function toISOString$1(){var e,t,a,n=abs$1(this._milliseconds)/1e3,o=abs$1(this._days),r=abs$1(this._months);e=absFloor(n/60),t=absFloor(e/60),n%=60,e%=60,a=absFloor(r/12),r%=12;var s=a,i=r,l=o,d=t,c=e,h=n,u=this.asSeconds();return u?(0>u?"-":"")+"P"+(s?s+"Y":"")+(i?i+"M":"")+(l?l+"D":"")+(d||c||h?"T":"")+(d?d+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}function triggerEvent(e){var t=arguments.length<=1||void 0===arguments[1]?document.body:arguments[1],a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0});t.dispatchEvent(n)}function permute(e){function t(e){var o=void 0,r=void 0;for(o=0;o<e.length;o++)r=e.splice(o,1)[0],n.push(r),0===e.length&&a.push(n.slice()),t(e),e.splice(o,0,r),n.pop();return a}var a=[],n=[];return t(e)}function organiseEventsConfig(e,t,a){if(0===e.length||0===a)return[];var n=e.map(function(e){return new EventView(e,t,a)}),o=n.filter(function(e){return e.length>0});o.sort(function(e,t){return DateHandler.diff(e.startDate,t.startDate,"minutes")});var r=[],s=[],i=!0,l=!1,d=void 0;try{for(var c,h=o[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var u=c.value,f=u.length>1?r:s;f.push(u)}}catch(m){l=!0,d=m}finally{try{!i&&h["return"]&&h["return"]()}finally{if(l)throw d}}for(var g=new Array(a),y=0;y<g.length;y++)g[y]=[];var p=getBestOrder(r,a),k=p.getOrderedEventConfigs();k.forEach(function(e,t){g[t]=g[t].concat(e)});var v=!0,_=!1,D=void 0;try{for(var S,w=s[Symbol.iterator]();!(v=(S=w.next()).done);v=!0){var T=S.value;g[T.offset].push(T.config)}}catch(m){_=!0,D=m}finally{try{!v&&w["return"]&&w["return"]()}finally{if(_)throw D}}return g}function getBestOrder(e,t){var a=permute(e),n=void 0,o=99,r=!0,s=!1,i=void 0;try{for(var l,d=a[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var c=l.value,h=new Ordering(c,t),u=h.getScore();if(0===u){n=h;break}o>u&&(o=u,n=h)}}catch(f){s=!0,i=f}finally{try{!r&&d["return"]&&d["return"]()}finally{if(s)throw i}}return n||new Ordering([],t)}var babelHelpers={};babelHelpers["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},assert.warn=function(){var e=processCondition.apply(void 0,arguments);"string"==typeof e&&console.warn(e)};var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),a=t.length>>>0,n=0;a>n;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var momentProperties=hooks.momentProperties=[],updateInProgress=!1,deprecations={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var keys;keys=Object.keys?Object.keys:function(e){var t,a=[];for(t in e)hasOwnProp(e,t)&&a.push(t);return a};var locales={},globalLocale,aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8,indexOf;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[MONTH]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,a,n){var o=a._locale.monthsParse(e,n,a._strict);null!=o?t[MONTH]=o:getParsingFlags(a).invalidMonth=e});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord,extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),addFormatToken("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(e,t){t[YEAR]=2===e.length?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[YEAR]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[YEAR]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=createLocal.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:createInvalid()}),now=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(e,t,a){a._useUTC=!0,a._tzm=offsetFromString(matchShortOffset,e)});var chunkOffset=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,a,n){t[n.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,a,n){t[n]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(e,t){t[MONTH]=3*(toInt(e)-1)}),addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(e,t,a,n){t[n.substr(0,1)]=toInt(e)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(e,t){t[DATE]=toInt(e.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,a,n){var o=a._locale.weekdaysParse(e,n,a._strict);null!=o?t.d=o:getParsingFlags(a).invalidWeekday=e}),addWeekParseToken(["d","e","E"],function(e,t,a,n){t[n]=toInt(e)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(e,t,a){a._dayOfYear=toInt(e)}),addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e}),addParseToken(["h","hh"],function(e,t,a){t[HOUR]=toInt(e),getParsingFlags(a).bigHour=!0}),addParseToken("hmm",function(e,t,a){var n=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n)),getParsingFlags(a).bigHour=!0}),addParseToken("hmmss",function(e,t,a){var n=e.length-4,o=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n,2)),t[SECOND]=toInt(e.substr(o)),getParsingFlags(a).bigHour=!0}),addParseToken("Hmm",function(e,t,a){var n=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n))}),addParseToken("Hmmss",function(e,t,a){var n=e.length-4,o=e.length-2;t[HOUR]=toInt(e.substr(0,n)),t[MINUTE]=toInt(e.substr(n,2)),t[SECOND]=toInt(e.substr(o))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;proto.add=add,proto.calendar=calendar,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=getSet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=getSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.toJSON=toJSON,proto.toString=toString,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isDSTShifted=isDaylightSavingTimeShifted,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},proto$1=Locale.prototype;proto$1._calendar=defaultCalendar,proto$1.calendar=calendar$1,proto$1._longDateFormat=defaultLongDateFormat,proto$1.longDateFormat=longDateFormat,proto$1._invalidDate=defaultInvalidDate,proto$1.invalidDate=invalidDate,proto$1._ordinal=defaultOrdinal,proto$1.ordinal=ordinal,proto$1._ordinalParse=defaultOrdinalParse,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1._relativeTime=defaultRelativeTime,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.months=localeMonths,proto$1._months=defaultLocaleMonths,proto$1.monthsShort=localeMonthsShort,proto$1._monthsShort=defaultLocaleMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1._monthsRegex=defaultMonthsRegex,proto$1.monthsRegex=monthsRegex,proto$1._monthsShortRegex=defaultMonthsShortRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1._week=defaultLocaleWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1._weekdays=defaultLocaleWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1._weekdaysMin=defaultLocaleWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1._weekdaysShort=defaultLocaleWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1._weekdaysRegex=defaultWeekdaysRegex,proto$1.weekdaysRegex=weekdaysRegex,proto$1._weekdaysShortRegex=defaultWeekdaysShortRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1._weekdaysMinRegex=defaultWeekdaysMinRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1._meridiemParse=defaultLocaleMeridiemParse,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,a=1===toInt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+a}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},abs$1=Math.abs,proto$2=Duration.prototype;proto$2.abs=abs,proto$2.add=add$1,proto$2.subtract=subtract$1,proto$2.as=as,proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=valueOf$1,proto$2._bubble=bubble,proto$2.get=get$2,proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=weeks,proto$2.months=months,proto$2.years=years,proto$2.humanize=humanize,proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(e,t,a){a._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,a){a._d=new Date(toInt(e))}),hooks.version="2.13.0",setHookCallback(createLocal),hooks.fn=proto,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.prototype=proto;var DateHandler=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"add",value:function(e,t,a){return hooks(e).add(t,a)}},{key:"addDays",value:function(e,t){return this.add(e,t,"day")}},{key:"newDate",value:function(e){return hooks(e)}},{key:"format",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"dddd, MMM DD":arguments[1];return hooks(e).format(t)}},{key:"getTime",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"HH:mm":arguments[1];return hooks(e).format(t)}},{key:"diff",value:function(e,t){var a=arguments.length<=2||void 0===arguments[2]?"minutes":arguments[2],n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];
return hooks(e).diff(hooks(t),a,n)}},{key:"sameDay",value:function(e,t){return hooks(e).isSame(t,"day")}},{key:"rangesOverlap",value:function(e,t,a,n){return hooks(t).valueOf()<hooks(a).valueOf()?!1:!(hooks(n).valueOf()<hooks(e).valueOf())}},{key:"startOf",value:function(e,t){return hooks(e).startOf(t)}},{key:"endOf",value:function(e,t){return hooks(e).endOf(t)}},{key:"isValid",value:function(e){return e.isValid()}},{key:"max",value:function(t,a,n){return e.diff(t,a,n)>0?t:a}},{key:"min",value:function(t,a,n){return e.diff(t,a,n)<0?t:a}}]),e}(),ModelView=function e(t,a){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2],o=arguments.length<=3||void 0===arguments[3]?"div":arguments[3];if(babelHelpers.classCallCheck(this,e),assert(a,"No instance class provided."),this["class"]=n+a,this.html={},this.html.container=document.createElement(o),this.html.container.classList.add(this["class"]),t){assert(Array.isArray(t),"Parameter is not an Array.");var r=!0,s=!1,i=void 0;try{for(var l,d=t[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var c=l.value;assert(c.name,"No property name provided.");var h=c.name,u=c.tag||"div";this.html[h]=document.createElement(u),this.html[h].classList.add(this["class"]+"-"+h),c.content&&(this.html[h].innerHTML=c.content),this.html.container.appendChild(this.html[h])}}catch(f){s=!0,i=f}finally{try{!r&&d["return"]&&d["return"]()}finally{if(s)throw i}}}},DEFAULT_TITLE_BAR_FORMAT="YYYY",CONTROL_CLASS="-ctrl",datePickerFormats={week:"YYYY-[W]WW",date:"YYYY-MM-DD"},ControlBar=function(e){function t(e,a){babelHelpers.classCallCheck(this,t);var n=[{name:"datePicker",tag:"input"},{name:"back",tag:"button",content:"<i class=icon-chevron-left></i>"},{name:"forward",tag:"button",content:"<i class=icon-chevron-right></i>"},{name:"today",tag:"button",content:"Today"},{name:"refresh",tag:"button",content:"<i class=icon-refresh></i><i class=icon-check></i><i class=icon-times></i>"},{name:"titleBar",tag:"p"},{name:"show-weekend",tag:"button",content:"Show Weekend"}],o=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,n,CONTROL_CLASS,e,"nav"));o.refreshLoadingController=new ButtonLoadingController(o.html.refresh,"fl-mc-loading","fl-mc-loading-complete","fl-mc-loading-error"),o.eventListeners={},o.titleBarFormat="string"==typeof a?a:DEFAULT_TITLE_BAR_FORMAT,Object.preventExtensions(o),o.html.datePicker.setAttribute("type","week"),o.html.datePicker.addEventListener("change",function(e){assert(e.target,"Error in datePicker's change event"),o.trigger("datePicker",e.target.value)});var r=!0,s=!1,i=void 0;try{for(var l,d=function(){var e=l.value;return"button"!==e.tag?"continue":void o.html[e.name].addEventListener("click",function(t){assert(t.target,"Error in "+e.name+"'s change event"),o.trigger(e.name,t)})},c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){d()}}catch(h){s=!0,i=h}finally{try{!r&&c["return"]&&c["return"]()}finally{if(s)throw i}}return o}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getDate",value:function(){return this._getDatePickerDate()}},{key:"setDate",value:function(e){this._setTitleBarDate(e),this._setDatePickerDate(e)}},{key:"setDateRange",value:function(e){switch(e){case"isoweek":this._setDatePickerType("week"),this._setShowWeekendActive(!0);break;case"week":this._setDatePickerType("week"),this._setShowWeekendActive(!1);break;case"day":this._setDatePickerType("date");break;default:assert(!1,"Unexpected date range: "+e)}}},{key:"setLoadingState",value:function(e){switch(e){case"loading":this.refreshLoadingController.setLoading();break;case"success":this.refreshLoadingController.setLoadingSuccess();break;case"error":this.refreshLoadingController.setLoadingError();break;default:assert.warn(!1,"Unexpected loading state: "+e)}}},{key:"_getDatePickerDate",value:function(){return DateHandler.newDate(this.html.datePicker.value)}},{key:"_setDatePickerDate",value:function(e){var t=datePickerFormats[this.html.datePicker.type];this.html.datePicker.value=DateHandler.format(e,t)}},{key:"_setDatePickerType",value:function(e){if("string"!=typeof e||!datePickerFormats[e])return void assert.warn(!1,"Invalid datepicker type to be set: "+e);if(this.html.datePicker.type!==e){var t=this._getDatePickerDate();this.html.datePicker.type=e,this._setDatePickerDate(t)}}},{key:"_setTitleBarDate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.titleBarFormat:arguments[1];this.html.titleBar.innerHTML=DateHandler.format(e,t)}},{key:"listenTo",value:function(e,t){assert("function"==typeof t,"Invalid callback."),this.eventListeners[e]=this.eventListeners[e]||[],this.eventListeners[e].push(t)}},{key:"trigger",value:function(e){if(this.eventListeners[e]){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;t>n;n++)a[n-1]=arguments[n];var o=!0,r=!1,s=void 0;try{for(var i,l=this.eventListeners[e][Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var d=i.value;d.apply({},a)}}catch(c){r=!0,s=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(r)throw s}}}}},{key:"_setShowWeekendActive",value:function(e){var t="fl-mc-active";e?(this.html["show-weekend"].classList.remove(t),this.html["show-weekend"].textContent="Show weekends"):(this.html["show-weekend"].classList.add(t),this.html["show-weekend"].textContent="Hide weekends")}}]),t}(ModelView),ButtonLoadingController=function(){function e(t,a,n,o){babelHelpers.classCallCheck(this,e),t.loadingIsHandled||(t.loadingIsHandled=!0,this.button=t,this.loadingClass=a,this.successClass=n,this.errorClass=o,this._removeAllLoadingClasses(),this.minAnimationTime=500,this.minIconTime=1500,this.loadingStartTime=null,this.outcomeTimeout=null)}return babelHelpers.createClass(e,[{key:"setLoading",value:function(){clearTimeout(this.outcomeTimeout),this._removeAllLoadingClasses(),this.button.classList.add(this.loadingClass),this.loadingStartTime=DateHandler.newDate()}},{key:"setLoadingSuccess",value:function(){this._completeLoadingWithSuccessStatus(!0)}},{key:"setLoadingError",value:function(){this._completeLoadingWithSuccessStatus(!1)}},{key:"_completeLoadingWithSuccessStatus",value:function(e){var t=this;clearTimeout(this.outcomeTimeout);var a=e?this.successClass:this.errorClass,n=this._timeToAnimationTimeoutEnd();this.outcomeTimeout=setTimeout(function(){t._removeAllLoadingClasses(),t.button.classList.add(a),t.outcomeTimeout=setTimeout(function(){t._removeAllLoadingClasses()},t.minIconTime)},n)}},{key:"_removeAllLoadingClasses",value:function(){this.button.classList.remove(this.loadingClass),this.button.classList.remove(this.successClass),this.button.classList.remove(this.errorClass)}},{key:"_timeToAnimationTimeoutEnd",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.loadingStartTime:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.minAnimationTime:arguments[1],a=arguments.length<=2||void 0===arguments[2]?DateHandler.newDate():arguments[2],n=DateHandler.add(e,t,"milliseconds"),o=DateHandler.diff(n,a,"milliseconds");return Math.max(o,0)}}]),e}(),EVENT_CLASS="-event",Event=function(e){function t(e,a,n){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];babelHelpers.classCallCheck(this,t),assert("object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e)),"Invalid event configuration object provided: "+e);var r=[{name:"time",tag:"span",content:e.time}],s=["title","description","tooltip"],i=!0,l=!1,d=void 0;try{for(var c,h=s[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var u=c.value;e[u]&&r.push({name:u,tag:"span",content:e[u]})}}catch(f){l=!0,d=f}finally{try{!i&&h["return"]&&h["return"]()}finally{if(l)throw d}}var m=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,r,EVENT_CLASS,a));return m.config=e,m.callbacks=o,assert("string"==typeof e.start,"Invalid event start date provided: "+e.start),m.startDate=DateHandler.newDate(e.start),assert("string"==typeof e.end,"Invalid event end date provided: "+e.end),m.endDate=DateHandler.newDate(e.end),assert(!e.description||"string"==typeof e.description,"Invalid description type: "+e.description),m.description=e.description,assert(!e.tooltip||"string"==typeof e.tooltip,"Invalid tooltip type: "+e.tooltip),m.tooltip=e.tooltip,m.updateTime(),assert(e.ordering&&"boolean"==typeof e.ordering.isPlaceholder,"Event ordering not initialised"),m.isPlaceholder=e.ordering.isPlaceholder,Object.preventExtensions(m),m._setPlaceHolderStatus(n),m._attatchClasses(n),m.isPlaceholder?babelHelpers.possibleConstructorReturn(m):("function"==typeof m.callbacks.eventClick&&m.html.container.addEventListener("click",function(){m.callbacks.eventClick(m.getConfig())}),m)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getStartTime",value:function(){return this.startDate}},{key:"updateTime",value:function(){this.html.time.textContent=DateHandler.getTime(this.startDate)+" - "+DateHandler.getTime(this.endDate)}},{key:"getConfig",value:function(){return this.config}},{key:"_setPlaceHolderStatus",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.config:arguments[1],a=t.ordering.span;assert("number"==typeof a,'Event configuration object not propperly handled. No "span" property found.'),assert(a>0,"Invalid span value for event configuration: "+a),this.isPlaceholder?this.html.container.classList.add("fl-mc-multiple-days-placeholder-"+a):a>1&&this.html.container.classList.add("fl-mc-multiple-days-"+a)}},{key:"_attatchClasses",value:function(e){var t=this,a=arguments.length<=1||void 0===arguments[1]?this.config:arguments[1];Array.isArray(a.classes)&&a.classes.forEach(function(e){t.html.container.classList.add(e)})}}],[{key:"areSame",value:function(e,a){if(!e||!a)return!1;var n=e instanceof t?e.getConfig():e,o=a instanceof t?a.getConfig():a;return JSON.stringify(n)===JSON.stringify(o)}}]),t}(ModelView),DAY_CLASS="-day",DEFAULT_HEADER_FORMAT="dddd, MMM DD",Day=function(e){function t(e,a){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];babelHelpers.classCallCheck(this,t);var r=[{name:"header",tag:"header"},{name:"events"}],s=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,r,DAY_CLASS,a));return s.date=null,s.start=null,s.end=null,s.callbacks=o,s.headerFormat="string"==typeof n.dayHeaderFormat?n.dayHeaderFormat:DEFAULT_HEADER_FORMAT,s.events=[],Object.preventExtensions(s),"function"==typeof o.dayHeaderClick&&s.html.header.addEventListener("click",function(){var e=[];s.events.forEach(function(t){e.push(t.getConfig())}),s.callbacks.dayHeaderClick(s.date,e)}),s.setDate(e),s}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"updateHeader",value:function(){this.html.header.textContent=DateHandler.format(this.date,this.headerFormat)}},{key:"addEvent",value:function(e){var t=new Event(e,this["class"],this.date,this.callbacks);assert(t&&t.html&&t.html.container,"New Event instance initialised without an HTML container."),this.html.events.appendChild(t.html.container),this.events.push(t)}},{key:"setEvents",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];assert.warn(Array.isArray(t),"Invalid array of configuration events,\n      clearing all events from day "+this.date.toString()+".");var a=t.length===this.events.length,n=t.reduce(function(t,a,n){var o=Event.areSame(a,e.events[n]);return t&&o},!0);a&&n||(this.clearEvents(),t.forEach(function(t){e.addEvent(t)}))}},{key:"getDate",value:function(){return this.date}},{key:"getStart",value:function(){return this.start}},{key:"getEnd",value:function(){return this.end}},{key:"setDate",value:function(e){assert("object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e)),"No date object provided."),this.date=e,this.start=DateHandler.startOf(this.date,"day"),this.end=DateHandler.endOf(this.date,"day"),this.updateHeader(),this._todayColor(),this.clearEvents()}},{key:"clearEvents",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?this.events:arguments[0],t=e.length,a=0;t>a;a++){var n=e.pop();n.html.container.remove(),n=null}}},{key:"removeEvent",value:function(e){var t=this.events.indexOf(e);return t>=0?(this.events.splice(t,1),e.html.container.remove(),void(e=null)):void assert.warn("Trying to remove an event that was not in day.\n                  Event starting "+e.start+" for id "+e.id+".")}},{key:"_todayColor",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.date:arguments[0];DateHandler.sameDay(e,DateHandler.newDate())?this.html.container.classList.add(this["class"]+"-today"):this.html.container.classList.remove(this["class"]+"-today")}}]),t}(ModelView),Ordering=function(){function e(t,a){babelHelpers.classCallCheck(this,e),this.eventViews=t,this.dayCount=a,this._nonPaddedLaidOutEvents=this._layOut(),this.laidOutEvents=this._addPadding(),this.score=this._calcScore()}return babelHelpers.createClass(e,[{key:"getScore",value:function(){return this.score}},{key:"getOrderedEventConfigs",value:function(){return this.laidOutEvents}},{key:"_layOut",value:function(){for(var e=this,t=arguments.length<=0||void 0===arguments[0]?this.eventViews:arguments[0],a=arguments.length<=1||void 0===arguments[1]?this.dayCount:arguments[1],n=new Array(a),o=0;o<n.length;o++)n[o]=[];return t.forEach(function(t){var a=e._getLevelThatEventWillFit(t,n),o=Object.create(t.config);o.ordering=Object.create(t.config.ordering),o.ordering.isPlaceholder=!1,t.config.ordering.isPlaceholder=!0;var r=t.offset,s=t.offset+t.length-1;n[r][a]=o;for(var i=r+1;s>=i;i++)n[i][a]=t.config}),n}},{key:"_addPadding",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this._nonPaddedLaidOutEvents:arguments[0],a=t.slice(0);return a.forEach(function(t){for(var n=0;n<t.length;n++)void 0===t[n]&&(t[n]=e._getPlaceholderFor(a,n))}),a}},{key:"_getPlaceholderFor",value:function(e,t){for(var a=0;a<e.length;a++){var n=e[a][t];if(n&&n.ordering&&n.ordering.isPlaceholder)return n}}},{key:"_getLevelThatEventWillFit",value:function(e,t){for(var a=0,n=!1,o=e.offset+e.length-1,r=e.offset;!n;){n=!0;for(var s=r;o>=s;s++)if(void 0!==t[s][a]){n=!1,a++;break}}return a}},{key:"_calcScore",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._nonPaddedLaidOutEvents:arguments[0],t=e,a=0;return t.forEach(function(e){for(var t=0;t<e.length;t++)a+=void 0===e[t]?0:1}),a}}]),e}(),EventView=function(){function e(t,a,n){babelHelpers.classCallCheck(this,e),this.config=t,this.startDate=DateHandler.max(t.start,a);var o=DateHandler.add(a,n-1,"days").endOf("day");this.endDate=DateHandler.min(t.end,o);var r=DateHandler.diff(this.endDate,this.startDate,"days",!0);return 0>r?void(this.length=-1):(this.length=Math.ceil(r),this.config.ordering=this.config.ordering||{},this.config.ordering.span=this.length,this.config.ordering.isPlaceholder=!1,void(this.offset=DateHandler.diff(this.startDate,a,"days")))}return babelHelpers.createClass(e,[{key:"overlaps",value:function(e){return DateHandler.rangesOverlap(this.startDate,this.endDate,e.startDate,e.endDate)}},{key:"diff",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"minutes":arguments[1];return DateHandler.diff(this.startDate,e.startDate,t)}}]),e}(),CALENDAR_CLASS="-cal",Calendar=function(e){function t(e,a,n){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];babelHelpers.classCallCheck(this,t),assert(e,"No calendar configuration object provided.");var r=[{name:"header",tag:"header"},{name:"days"}],s=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,r,CALENDAR_CLASS,n,"section"));return assert(e.name,"No calendar name provided for one of the calendars."),s.title=e.name,s.html.title=document.createElement("h2"),s.html.title.textContent=s.title,s.html.title.classList.add(s["class"]+"-title"),s.html.header.appendChild(s.html.title),"string"==typeof e.description&&(s.description=e.description,s.html.description=document.createElement("p"),s.html.description.classList.add(s["class"]+"-description"),s.html.description.textContent=s.description,s.html.header.appendChild(s.html.description)),assert(e.id,'No ID provided for calendar "'+e.name+'"'),s.id=e.id,assert(a,"No start date provided."),s.startDate=a,s.dayConfig=e.dayConfig,s.callbacks=o,s.days=[],Object.preventExtensions(s),"function"==typeof s.callbacks.titleClick&&s.html.header.addEventListener("click",function(){o.titleClick(e)}),s}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getId",value:function(){return this.id}},{key:"addDay",value:function(){var e=DateHandler.addDays(this.startDate,this.days.length),t=new Day(e,this["class"],this.dayConfig,this.callbacks);assert(t&&t.html&&t.html.container,"New Day instance initialised without an HTML container."),this.days.push(t),this.html.days.appendChild(t.html.container)}},{key:"removeDay",value:function(){var e=this.days.pop();e.html.container.remove(),e=null}},{key:"getDayCount",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.days:arguments[0];return e.length}},{key:"setEvents",value:function(e){assert(Array.isArray(e),"The parameter provided is not an array.");for(var t=organiseEventsConfig(e,this.startDate,this.days.length),a=0;a<this.days.length;a++)this.days[a].setEvents(t[a])}},{key:"clearEvents",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.days:arguments[0],t=!0,a=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var s=o.value;s.clearEvents()}}catch(i){a=!0,n=i}finally{try{!t&&r["return"]&&r["return"]()}finally{if(a)throw n}}}},{key:"findDaysInRange",value:function(e,t){var a=arguments.length<=2||void 0===arguments[2]?this.days:arguments[2],n=[];if(DateHandler.sameDay(e,t)){var o=a.find(function(t){var a=DateHandler.sameDay(e,t.getDate());return a});o&&n.push(o)}else{var r=!0,s=!1,i=void 0;try{for(var l,d=a[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var c=l.value;DateHandler.rangesOverlap(e,t,c.getStart(),c.getEnd())&&n.push(c)}}catch(h){s=!0,i=h}finally{try{!r&&d["return"]&&d["return"]()}finally{if(s)throw i}}}return n}},{key:"setStartDate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.days:arguments[1],a=0,n=!0,o=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;l.setDate(DateHandler.addDays(e,a)),a++}}catch(d){o=!0,r=d}finally{try{!n&&i["return"]&&i["return"]()}finally{if(o)throw r}}this.startDate=e}}]),t}(ModelView),MULTI_CALENDAR_CLASS="fl-mc",viewModeClassPrefix=MULTI_CALENDAR_CLASS+"-view-",viewModes={weekdays:{name:"weekdays",dateRange:"isoweek",dateGapUnit:"week",dayCount:5},fullWeek:{name:"fullWeek",dateRange:"week",dateGapUnit:"week",dayCount:7},oneDay:{name:"oneDay",dateRange:"day",dateGapUnit:"day",dayCount:1}},multiCalendarEvents={loadingStart:"fl-mc-loading-start",loadingComplete:"fl-mc-loading-complete"},MultiCalendar=function(e){function t(e){babelHelpers.classCallCheck(this,t),assert(e,"No Configuration object provided.");var a=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,null,MULTI_CALENDAR_CLASS,"","main"));assert("object"===babelHelpers["typeof"](e.targetElement),"No valid targetElement provided."),a.targetElement=e.targetElement,a.controlBar=new ControlBar(a["class"],e.titleBarFormat),a.html.container.appendChild(a.controlBar.html.container),assert("string"==typeof e.loadUrl,"No loadUrl provided."),a.loadUrl=a._prepareLoadUrl(e.loadUrl),a.dayConfig={dayHeaderFormat:e.dayHeaderFormat},a.startDate=null,a.endDate=null,a.calendars=[],a.lastLoadedEvents={},a.currViewMode=null,a.lastRequest={cancelled:!1},Object.preventExtensions(a),a._initControlBar(a.controlBar),a.setStartDate(DateHandler.newDate()),assert(Array.isArray(e.calendars),"No valid calendars array provided.");var n=!0,o=!1,r=void 0;try{for(var s,i=e.calendars[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value;a._addCalendar(l,a.startDate)}}catch(d){o=!0,r=d}finally{try{!n&&i["return"]&&i["return"]()}finally{if(o)throw r}}return a.targetElement.appendChild(a.html.container),a}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_initControlBar",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.controlBar:arguments[0];this._makeControlBarSticky(t),t.listenTo("datePicker",function(){var t=e.controlBar.getDate();e.goToDate(t)}),t.listenTo("forward",function(){e.goForward()}),t.listenTo("back",function(){e.goBack()}),t.listenTo("today",function(){e.goToDate(DateHandler.newDate())}),t.listenTo("refresh",function(){e.refresh()}),t.listenTo("show-weekend",function(){var t=e.currViewMode===viewModes.weekdays;e.showWeekends(t)})}},{key:"goForward",value:function(){var e=this.startDate,t=this.currViewMode.dateGapUnit,a=DateHandler.add(e,1,t);this.setStartDate(a)}},{key:"goBack",value:function(){var e=this.startDate,t=this.currViewMode.dateGapUnit,a=DateHandler.add(e,-1,t);this.setStartDate(a)}},{key:"refresh",value:function(){this._loadEvents()}},{key:"showWeekends",value:function(e){if(this.currViewMode!==viewModes.oneDay){var t=e?"fullWeek":"weekdays";this._setViewMode(t)}}},{key:"goToDate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.controlBar:arguments[1];DateHandler.isValid(e)?this.setStartDate(e):t.setDate(this.date)}},{key:"_addCalendar",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.startDate:arguments[1],a={titleClick:e.titleClick,dayHeaderClick:e.dayHeaderClick,eventClick:e.eventClick};e.dayConfig=this.dayConfig;var n=new Calendar(e,t,MULTI_CALENDAR_CLASS,a);this.html.container.appendChild(n.html.container),this.calendars.push(n)}},{key:"getDayCount",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.calendars:arguments[0];return 0===e.length?0:e[0].getDayCount()}},{key:"_loadEvents",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.loadUrl:arguments[0],t=this,a=arguments.length<=1||void 0===arguments[1]?this.calendars:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.controlBar:arguments[2];triggerEvent(multiCalendarEvents.loadingStart,this.html.container),n.setLoadingState("loading");var o=[];this.calendars.forEach(function(e){o.push(e.getId())});var r={ids:o,start:DateHandler.format(this.startDate,"X"),end:DateHandler.format(this.endDate,"X")},s=this._addParametersToUrl(r,e),i={method:"GET",cache:"no-cache",credentials:"include"};this.lastRequest.cancelled=!0;var l={cancelled:!1};return this.lastRequest=l,fetch(s,i).then(function(e){return e.json()}).then(function(e){l.cancelled||(t._setEvents(e,a),n.setLoadingState("success"))})["catch"](function(e){l.cancelled||(n.setLoadingState("error"),console.error(e))}).then(function(){triggerEvent(multiCalendarEvents.loadingComplete,t.html.container)})}},{key:"_setEvents",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.lastLoadedEvents:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.calendars:arguments[1];if("object"!==("undefined"==typeof e?"undefined":babelHelpers["typeof"](e)))return void assert.warn(!1,"Trying to set events with invalid object");var a=Object.keys(e),n=!0,o=!1,r=void 0;try{for(var s,i=a[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var l=s.value,d=this._findCalendar(l,t);d&&d.setEvents(e[l])}}catch(c){o=!0,r=c}finally{try{!n&&i["return"]&&i["return"]()}finally{if(o)throw r}}this.lastLoadedEvents=e}},{key:"_findCalendar",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.calendars:arguments[1];return t.find(function(t){return t.id===e})}},{key:"setStartDate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.calendars:arguments[1],a=void 0;if(this.currViewMode){var n=this.currViewMode.dateRange;a=DateHandler.startOf(e,n)}else a=DateHandler.newDate();var o=!0,r=!1,s=void 0;try{for(var i,l=t[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var d=i.value;d.setStartDate(a)}}catch(c){r=!0,s=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(r)throw s}}this.startDate=a;var h=this.getDayCount(),u=Math.max(h-1,0);this.endDate=DateHandler.addDays(a,u),this.controlBar.setDate(a),this._loadEvents()}},{key:"_setViewMode",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.calendars:arguments[1],a=viewModes[e];if(void 0===a){var n="weekdays";assert.warn(!1,"Invalid view mode: "+a+". Defaulting to "+n),a=viewModes[n]}if(a!==this.currViewMode){var o=this.getDayCount(),r=Math.abs(a.dayCount-o),s=a.dayCount<o?"removeDay":"addDay",i=!0,l=!1,d=void 0;try{for(var c,h=t[Symbol.iterator]();!(i=(c=h.next()).done);i=!0)for(var u=c.value,f=0;r>f;f++)u[s]()}catch(m){l=!0,d=m}finally{try{!i&&h["return"]&&h["return"]()}finally{if(l)throw d}}var g=!0,y=!1,p=void 0;try{for(var k,v=Object.keys(viewModes)[Symbol.iterator]();!(g=(k=v.next()).done);g=!0){var _=k.value,D=this._viewModeClassName(viewModes[_]);this.html.container.classList.remove(D)}}catch(m){y=!0,p=m}finally{try{!g&&v["return"]&&v["return"]()}finally{if(y)throw p}}var S=this._viewModeClassName(a);this.html.container.classList.add(S),this.controlBar.setDateRange(a.dateRange),this.currViewMode=a,this.setStartDate(this.startDate)}}},{key:"getViewMode",value:function(){return this.currViewMode?this.currViewMode.name:null}},{key:"_viewModeClassName",value:function(e){return viewModeClassPrefix+e.name}},{key:"_makeControlBarSticky",value:function(){function e(){var e=a.getBoundingClientRect(),t=n.clientHeight;if(e.top+t<=0&&!n.classList.contains("sticky")){n.classList.add("sticky");var s=a.clientWidth;r=n.style.width,n.style.width=s+"px",o=parseInt(a.style.paddingTop,10)||0,a.style.paddingTop=t+o+"px"}else e.top+t>0&&n.classList.contains("sticky")&&(n.classList.remove("sticky"),n.style.width=r,a.style.paddingTop=o)}var t=arguments.length<=0||void 0===arguments[0]?this.controlBar:arguments[0],a=this.html.container,n=t.html.container;if(!n.isSticky){n.isSticky=!0;var o="",r="",s=debounce(e,50);window.addEventListener("scroll",s)}}},{key:"_addParametersToUrl",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.loadUrl:arguments[1],a=[],n=Object.keys(e),o=!0,r=!1,s=void 0;try{for(var i,l=n[Symbol.iterator]();!(o=(i=l.next()).done);o=!0){var d=i.value,c=e[d].toString(),h=encodeURIComponent(d),u=encodeURIComponent(c);a.push(h+"="+u)}}catch(f){r=!0,s=f}finally{try{!o&&l["return"]&&l["return"]()}finally{if(r)throw s}}var m=a.join("&"),g=t+m;return g}},{key:"_prepareLoadUrl",value:function(e){var t=void 0;try{t=new URL(e)}catch(a){try{t=new URL(location.origin+e),assert.warn(!1,"No domain provided. Assuming domain: "+location.origin)}catch(n){assert(!1,"Invalid URL: ${loadUrl}")}}var o=void 0;return t.search.length>0?(t.search=t.search+"&",o=t.href):o=t.href+"?",o}}]),t}(ModelView);xController(function(e){function t(){var e=n.getViewMode();window.innerWidth<850&&"oneDay"!==e?n._setViewMode("oneDay"):(window.innerWidth>850&&"oneDay"===e||!e)&&n._setViewMode("weekdays")}var a=window[e.dataset.config];if("object"!==("undefined"==typeof a?"undefined":babelHelpers["typeof"](a)))throw new Error("x-div multiCalendar: No configuration object provided.");a.targetElement=e;var n=new MultiCalendar(a),o=debounce(t,200);o(),window.addEventListener("resize",o),window.multiCalendar=n});
//# sourceMappingURL=fl-multi-calendar.js.map
